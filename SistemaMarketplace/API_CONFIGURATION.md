# Sistema Marketplace Raid - Guía de Configuración de APIs\n\n## Variables de Entorno Requeridas\n\nAñade estas variables a tu `.env.local` o `.env`:\n\n```bash\n# APIFY - Scraping de Upwork/Fiverr\nVITE_APIFY_API_KEY=your_apify_api_key_here\n\n# CLAY - Enriquecimiento de datos + Google X-Ray\nVITE_CLAY_API_KEY=your_clay_api_key_here\n\n# CLAY - Servicios de extracción de email (elige uno o ambos)\nVITE_CLAY_PROSPEO_API_KEY=your_prospeo_api_key_here    # Recomendado\nVITE_CLAY_DROPCONTACT_API_KEY=your_dropcontact_api_key # Alternativa\n\n# WALEAD - Mensajes en LinkedIn\nVITE_WALEAD_API_KEY=your_walead_api_key_here\n\n# INSTANTLY - Campañas de email\nVITE_INSTANTLY_API_KEY=your_instantly_api_key_here\n```\n\n---\n\n## Obtener API Keys\n\n### 1. Apify\n\n1. Ve a https://apify.com\n2. Sign up / Login\n3. Dashboard → Settings → API tokens\n4. Copia el **personal token**\n5. Agrega a variables de entorno\n\n**Verificar conexión:**\n```bash\ncurl -H \"Authorization: Bearer YOUR_API_KEY\" https://api.apify.com/v2/users/me\n```\n\n### 2. Clay\n\n1. Ve a https://clay.com\n2. Sign up / Login\n3. Settings → API & Webhooks\n4. Create API token\n5. Copia el token\n\n**Requisitos adicionales en Clay:**\n- Conectar Google X-Ray (automático)\n- Conectar Prospeo o Dropcontact para emails\n\n### 3. Prospeo (para Clay)\n\n1. Ve a https://prospeo.io\n2. Sign up\n3. Dashboard → Integrations → API\n4. Copia API Key\n5. Conecta en Clay (Clay Dashboard → Integrations → Prospeo)\n\n### 4. Walead\n\n1. Ve a https://walead.io\n2. Sign up\n3. Conecta perfil(es) de LinkedIn\n4. Dashboard → Settings → API\n5. Copia API Key\n\n### 5. Instantly\n\n1. Ve a https://instantly.ai\n2. Sign up\n3. Settings → Integrations → API\n4. Copia API Key\n5. Configura warming de email (importante para deliverabilidad)\n\n---\n\n## Inicializar el servicio en la app\n\nEn `App.tsx` o al montar MarketplaceRaidDashboard:\n\n```typescript\nimport { initializeMarketplaceRaidService } from './SistemaMarketplace';\n\n// Al crear el componente\nconst service = initializeMarketplaceRaidService(\n  import.meta.env.VITE_APIFY_API_KEY,\n  import.meta.env.VITE_CLAY_API_KEY,\n  import.meta.env.VITE_WALEAD_API_KEY,\n  import.meta.env.VITE_INSTANTLY_API_KEY,\n  import.meta.env.VITE_CLAY_PROSPEO_API_KEY,\n  import.meta.env.VITE_CLAY_DROPCONTACT_API_KEY\n);\n\n// Validar todas las conexiones\nconst connections = await service.validateAllConnections();\nif (!connections.apify) console.warn('Apify not connected');\nif (!connections.clay) console.warn('Clay not connected');\n// etc...\n```\n\n---\n\n## Testing de API Connections\n\nCrea un archivo `test-marketplace-apis.ts`:\n\n```typescript\nimport { \n  initializeMarketplaceRaidService \n} from './SistemaMarketplace';\n\nasync function testAPIs() {\n  const service = initializeMarketplaceRaidService(\n    process.env.VITE_APIFY_API_KEY!,\n    process.env.VITE_CLAY_API_KEY!,\n    process.env.VITE_WALEAD_API_KEY!,\n    process.env.VITE_INSTANTLY_API_KEY!,\n  );\n\n  console.log('Testing API connections...');\n  const connections = await service.validateAllConnections();\n  \n  console.log('✓ Apify:', connections.apify ? '✅' : '❌');\n  console.log('✓ Clay:', connections.clay ? '✅' : '❌');\n  console.log('✓ Walead:', connections.walead ? '✅' : '❌');\n  console.log('✓ Instantly:', connections.instantly ? '✅' : '❌');\n  \n  if (Object.values(connections).some(v => !v)) {\n    console.error('Some APIs are not connected!');\n    process.exit(1);\n  }\n  \n  console.log('\\n✅ All APIs connected successfully!');\n}\n\ntestAPIs().catch(console.error);\n```\n\nEjecuta: `npx ts-node test-marketplace-apis.ts`\n\n---\n\n## Costos estimados (USD/mes)\n\n| Servicio | Básico | Pro | Notes |\n|----------|--------|-----|-------|\n| Apify | $10 | $50+ | Por volumen de scraping |\n| Clay | $50 | $200+ | Por cantidad de enriquecimientos |\n| Prospeo | $30 | $100+ | Por emails extraídos |\n| Walead | $30 | $100+ | Por número de perfiles LinkedIn |\n| Instantly | $40 | $150+ | Por límite diario de envíos |\n| **TOTAL** | **$160** | **$600+** | Recomendado: ~$250-300 |\n\n---\n\n## Troubleshooting\n\n### Apify no conecta\n```bash\n# Verificar API key\ncurl -H \"Authorization: Bearer $VITE_APIFY_API_KEY\" \\\n  https://api.apify.com/v2/users/me | jq .\n```\n\n### Clay no enriquece\n- [ ] Google X-Ray está habilitado en Clay\n- [ ] Prospeo/Dropcontact está integrado\n- [ ] Clay tiene créditos disponibles\n- [ ] Nombres de candidatos no muy parciales\n\n### Walead no envía mensajes\n- [ ] LinkedIn profile está verificado en Walead\n- [ ] No estamos en ban temporal\n- [ ] No hemos excedido límite diario (20/día)\n- [ ] Perfil de LinkedIn tiene conexiones disponibles\n\n### Instantly no delivery\n- [ ] Warming de dominio completado\n- [ ] Dominio sender está verificado\n- [ ] Emails extraídos son válidos\n- [ ] No estamos en spam list\n\n---\n\n## Rotación y Backups\n\nRecomendaciones:\n1. **Rotar API keys cada 3 meses**\n2. **Mantener backup de keys en password manager seguro**\n3. **Revisar logs de uso mensualmente**\n4. **Revisar unsubscribes/bounces en Instantly semanalmente**\n5. **Monitorear bans de LinkedIn/email providers**